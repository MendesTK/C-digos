package com.mcdonalds.DAO;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import com.mcdonalds.modelo.Produtos;

public class ProdutosDAO {
	
	private Connection con = null;
	private PreparedStatement statement = null;
	
	public ProdutosDAO() {
		con = ConnectionFactory.getConnection();
	}
	
	public List<Produtos> findAll() throws SQLException {
		String query = "SELECT * FROM Produtos";
		List<Produtos> produtos = new ArrayList<Produtos>();
		
		statement = con.prepareStatement(query);
		ResultSet rs = statement.executeQuery();
		
		while (rs.next()){
			produtos.add(new Produtos(rs.getInt("id_Produto"), rs.getString("nome_Produto"), rs.getFloat("valor_Unit") 
					, rs.getFloat("desconto"), rs.getString("combo")));
		}
		return produtos;
		
	}
		
	

}
